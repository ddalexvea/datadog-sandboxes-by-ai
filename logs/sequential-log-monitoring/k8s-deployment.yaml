apiVersion: v1
kind: Namespace
metadata:
  name: sequential-logs-test
---
apiVersion: v1
kind: Pod
metadata:
  name: file-transfer-simulator
  namespace: sequential-logs-test
  labels:
    app: sequential-logs
    service: ftp-job
spec:
  containers:
  - name: app
    image: busybox
    command: ["/bin/sh", "-c"]
    args:
      - |
        while true; do
          FILE="fflynsl-$(date +%Y%m%d-%H-%M).txt"
          TIMESTAMP=$(date '+%Y-%m-%d %H:%M:%S')
          echo "$TIMESTAMP INFO [ingService_Worker-13] .j.f.DailyFilesFTPJob\$LogProgressMonitor : [][] : File [$FILE] bytes transferred [1285078]"
          sleep 0.5
          TIMESTAMP=$(date '+%Y-%m-%d %H:%M:%S')
          echo "$TIMESTAMP INFO [ingService_Worker-13] .j.f.DailyFilesFTPJob\$LogProgressMonitor : [][] : File [$FILE] bytes transferred [3604425]"
          sleep 0.5
          TIMESTAMP=$(date '+%Y-%m-%d %H:%M:%S')
          echo "$TIMESTAMP INFO [ingService_Worker-13] .j.f.DailyFilesFTPJob\$LogProgressMonitor : [][] : File [$FILE] bytes transferred [5285078]"
          sleep 1
          TIMESTAMP=$(date '+%Y-%m-%d %H:%M:%S')
          echo "$TIMESTAMP INFO [ingService_Worker-13] f.s.j.f.DailyFilesFTPJob : [][] : Done Transferring [1] files."
          sleep 0.2
          TIMESTAMP=$(date '+%Y-%m-%d %H:%M:%S')
          echo "$TIMESTAMP INFO [ingService_Worker-13] f.s.j.f.DailyFilesFTPJob : [][] : Quitting client"
          sleep 0.1
          TIMESTAMP=$(date '+%Y-%m-%d %H:%M:%S')
          echo "$TIMESTAMP INFO [ingService_Worker-13] f.s.j.f.DailyFilesFTPJob : [][] : Complete"
          sleep 15
        done
