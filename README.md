[{"text": "# Datadog Sandboxes Repository\n\nThis repository contains sandbox environments for reproducing and demonstrating various Datadog Agent configurations, integrations, and issues.\n\n## Sandbox Index\n\n### Integrations\n\n#### [Airflow StatsD Integration](./integrations/airflow-statsd/)\n- **Context:** Collecting Airflow metrics via StatsD to DogStatsD in Kubernetes\n- **Key Topics:** Configuration precedence, env vars vs airflow.cfg, Kubernetes service discovery\n- **Agent Version:** 7.74.1\n- **Platform:** minikube / AKS\n- **Original Repo:** [datadog-agent-airflow-statsd](https://github.com/ddalexvea/datadog-agent-airflow-statsd)\n\n#### [Exim Mail Queue Integration](./integrations/exim-extra-integration/)\n- **Context:** Exim integration pipe command bug - subprocess fails silently\n- **Key Topics:** Python subprocess pipe handling, community integration bug\n- **Agent Version:** 7.x\n- **Platform:** minikube / Linux\n- **Original Repo:** [datadog-agent-exim-extra-integration](https://github.com/ddalexvea/datadog-agent-exim-extra-integration)\n- **Related Issue:** [GitHub Issue #2209](https://github.com/DataDog/integrations-extras/issues/2209)\n\n### APM\n\n#### [SQL Server .NET SSI Correlation](./apm/sqlserver-dotnet-ssi-correlation/)\n- **Context:** APM/DBM correlation for .NET apps with SQL Server using Single Step Instrumentation\n- **Key Topics:** SSI with native binaries, CORECLR env vars, Microsoft.Data.SqlClient 5.x compatibility\n- **Agent Version:** 7.x with Operator 1.10.0+\n- **Platform:** minikube / Kubernetes\n- **Original Repo:** [datadog-agent-sqlserver-dotnet-ssi-correlation](https://github.com/ddalexvea/datadog-agent-sqlserver-dotnet-ssi-correlation)\n\n### AWS\n\n#### [ECS on EC2 Deployment Patterns](./aws/ecs-on-ec2-sandbox/)\n- **Context:** Agent deployment strategies for AWS EC2/ECS (Daemon, Sidecar, Cluster Checks, Agentless)\n- **Key Topics:** Daemon vs Sidecar, ECS Fargate, EKS Fargate auto-injection\n- **Agent Version:** 7.52.0+\n- **Platform:** ECS on EC2 / ECS Fargate / EKS\n- **Original Repo:** [datadog-agent-ecs-on-ec2-sandbox](https://github.com/ddalexvea/datadog-agent-ecs-on-ec2-sandbox)\n\n### OpenTelemetry\n\n#### [OTel Collector Port Conflict](./otel/embedded-collector-port-conflict/)\n- **Context:** DDOT Collector fails when port 4317 is occupied by open-source OTel Collector\n- **Key Topics:** Port binding conflicts, ddflare extension failure\n- **Agent Version:** 7.75.0\n- **Platform:** minikube / Red Hat Linux\n- **Original Repo:** [datadog-agent-embedded-otel-collector-port-conflict-with-open-source-otel-collector](https://github.com/ddalexvea/datadog-agent-embedded-otel-collector-port-conflict-with-open-source-otel-collector)\n\n### Kubernetes\n\n#### [vcluster Shared Node Issues](./kubernetes/vcluster-shared-node/)\n- **Context:** Agent kubelet access issues when running in vclusters sharing physical nodes\n- **Key Topics:** vcluster SA token authentication, 401 Unauthorized errors, workaround with host tokens\n- **Agent Version:** 7.74.0\n- **Platform:** minikube with vcluster\n- **Original Repo:** [datadog-agent-containers-info-shared-node-in-vcluster](https://github.com/ddalexvea/datadog-agent-containers-info-shared-node-in-vcluster)\n\n### Bugs\n\n#### [Container Log Exclusion Bug (Image-Based Filtering)](./bugs/container-log-exclusion-second-case/)\n- **Context:** `container_exclude_logs` ignored when using image-based `container_include` patterns\n- **Key Topics:** Agent regression in 7.69.0-7.72.x, fixed in 7.73.2+\n- **Affected Versions:** 7.69.0 - 7.72.x\n- **Fixed In:** 7.73.2+\n- **Platform:** minikube / Kubernetes\n- **Original Repo:** [datadog-bug-container-log-exclusion-second-case](https://github.com/ddalexvea/datadog-bug-container-log-exclusion-second-case)\n- **Fix PR:** [DataDog/datadog-agent#42647](https://github.com/DataDog/datadog-agent/pull/42647)\n\n## Structure\n\nEach sandbox directory contains:\n- `README.md` - Summary and link to the full sandbox repository\n- (Optional) Supporting files like manifests, scripts, or configurations\n\n## Full Documentation\n\nFor complete documentation, step-by-step reproduction instructions, and all manifests, please visit the individual repository links provided above.\n\n## Related Resources\n\n- **Diagnostic Rules Repository:** [datadog-cursor-diagnose-rules](https://github.com/ddalexvea/datadog-cursor-diagnose-rules)\n- **Sandbox Template:** [datadog-sandbox-readme-template](https://github.com/ddalexvea/datadog-sandbox-readme-template)\n\n## Contributing\n\nThis repository serves as an index. To add a new sandbox:\n\n1. Create a dedicated repository for your sandbox (following the template)\n2. Add a summary entry here with a link to the full repo\n3. Organize by category (integrations, apm, aws, kubernetes, bugs, etc.)\n\n---\n\n**Maintained by:** Alexandre VEA (Datadog Support)\n", "type": "text"}]