# Datadog Linux Release - Values File
# This release OWNS the CRDs and runs the Cluster Agent
# Namespace: datadog-linux

# Basic Configuration
datadog:
  site: datadoghq.com
  clusterName: my-mixed-cluster  # Change to your cluster name
  
  # Use existing secret for API key
  apiKeyExistingSecret: datadog-secret
  apiKeyExistingSecretKey: api-key

# Cluster Agent Configuration
clusterAgent:
  enabled: true
  replicas: 1
  
  # Ensure Cluster Agent runs on Linux nodes
  nodeSelector:
    kubernetes.io/os: linux

# Agent Configuration
agents:
  # Ensure agents run on Linux nodes only
  nodeSelector:
    kubernetes.io/os: linux
  
  # Target only Linux nodes
  tolerations: []

# CRD Configuration - ENABLED (Linux release owns CRDs)
datadog-crds:
  crds:
    datadogMetrics: true

# Kube State Metrics
kubeStateMetricsEnabled: true

# Target System - CRITICAL for mixed clusters
targetSystem: linux

# Additional Components
clusterChecksRunner:
  enabled: true
  nodeSelector:
    kubernetes.io/os: linux
